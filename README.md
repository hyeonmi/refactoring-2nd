# Refactoring 2판
마틴 파울러의 Refactoring 2판 책에 실린 예제를 학습한 내용을 담고 있습니다.

## Chapter 1 리팩터링 : 첫 번째 예시

> 정리 1
> 프로그램이 새로운 기능을 추가하기에 편한 구조가 아니라면,
> 먼저 기능을 추가하기 쉬운 형태로 리팩터링하고 나서 원하는 기능을 추가한다.

> 정리 2
> 리팩터링은 프로그램 수정을 작은 단계로 나눠 진행한다.
> 그래서 중간에 실수하더라도 버그를 쉽게 찾을 수 있다.

책에서는 메소드를 분리할때 statement, createStatementData 메소드 안에 각 메소드를 분리했다.
나는 그것보다는 아예 빼는게 낫다고 판단해서 statement 메소드 밖으로 분리했다.
import 키워드를 사용하려면 추가적인 환경 설정을 해야 하는데 빠르게 하기 위해서 추가 환경 설정을 하지 않았다.
대신 분리한 파일을 script 태그로 import 시키는 방법을 사용했다.

> 정리 3
> 좋은 코드를 가늠하는 확실한 방법은 '얼마나 수정하기 쉬운가'다.

## Chapter 2 리팩터링 원칙

### 리팩터링 정의
- 특정한 방식에 따라 코드를 정리하는 것만이 리팩터링이다.
- 리팩터링하기 전과 후의 코드가 똑같이 동작해야 한다.
- 리팩터링 과정에서 발견된 버그는 리팩터링 후에도 그대로 남아 있어야 한다.

### 리팩터링 방식 - 두 개의 모자
- 기능 추가 모자를 쓴 다음 기존 코드를 절대 건드리지 않고 새 기능을 추가하기만 한다.
- 리팩터링 모자를 쓴 후에는 기능 추가를 절대 하지 않기로 다짐한 뒤 오로지 코드 재구성에만 전념한다.

### 리팩터링 이유
설계가 좋아진다. -> 소프트웨어를 이해하기 쉬워진다. -> 버그를 쉽게 찾을 수 있다. -> 프로그래밍 속도를 높일 수 있다.


### 언제 리팩터링해야 할까?

> 돈 로버츠가 제시한 3의 법칙
> 1. 처음에는 그냥한다.
> 2. 비슷한 일을 두 번재로 하게 되면, 일단 계속한다.
> 3. 비슷한 일을 세번째 하게 되면 리팩터링한다. 

#### 리팩터링하지 말아야 할때
외부 API다루 듯 호출해서 쓴느 코드라면 지저분해도 그냥 둔다. 내부 동작을 이해해야 할 시점에 리팩터링해야 효과를 제대로 볼 수 있다.

